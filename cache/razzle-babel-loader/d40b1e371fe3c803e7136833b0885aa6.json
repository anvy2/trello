{"ast":null,"code":"import _slicedToArray from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"/home/anvy/storage/code/node/n1/trella/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/anvy/storage/code/node/n1/trella/src/components/List.jsx\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Dialog from \"./Dialog\";\nimport ListItem from \"./ListItem\";\nimport StorageUtils from \"../libs/storageUtils\";\nimport { listCount } from \"../constant\";\n\nvar List = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(List, _React$PureComponent);\n\n  var _super = _createSuper(List);\n\n  function List(props) {\n    var _this;\n\n    _classCallCheck(this, List);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"updateCursorPosition\", function (position) {\n      _this.cursorPosition = position;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateDragStart\", function (start) {\n      _this.dragState = {\n        start: start,\n        current: start.parent\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateDragCurrent\", function (current) {\n      _this.dragState.current = current;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteEntry\", function (key, index) {\n      console.log(key, index);\n\n      var modifiedParentList = _objectSpread({}, _this.state.list)[key];\n\n      modifiedParentList.splice(index, 1);\n\n      var newList = _objectSpread(_objectSpread({}, _this.state.list), {}, _defineProperty({}, key, modifiedParentList));\n\n      _this.setState({\n        list: newList\n      }, function () {\n        StorageUtils.setItem(listCount, newList);\n        console.log(_this.state.list);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragEnd\", function () {\n      var _objectSpread3;\n\n      console.log(_this.dragState);\n\n      if (!_this.dragState.current) {\n        return;\n      }\n\n      var parentKey = _this.dragState.start.parent;\n      var targetKey = _this.dragState.current;\n      var removedIndex = _this.dragState.start.index;\n\n      var updatedList = _objectSpread({}, _this.state.list);\n\n      var targetList = updatedList[targetKey];\n      var modifiedParentList = updatedList[parentKey];\n      var removedEntry = modifiedParentList.splice(removedIndex, 1)[0];\n\n      var newList = _objectSpread(_objectSpread({}, updatedList), {}, (_objectSpread3 = {}, _defineProperty(_objectSpread3, parentKey, modifiedParentList), _defineProperty(_objectSpread3, targetKey, [].concat(_toConsumableArray(targetList), [removedEntry])), _objectSpread3));\n\n      _this.setState({\n        list: newList\n      }, function () {\n        StorageUtils.setItem(listCount, newList);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInitialData\", function (key, defaultValue) {\n      var data = StorageUtils.getItem(key);\n\n      if (data) {\n        return JSON.parse(data);\n      }\n\n      StorageUtils.setItem(key, defaultValue);\n      return defaultValue;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteList\", function (key) {\n      console.log(newList, key);\n\n      var newList = _objectSpread({}, _this.state.list);\n\n      delete newList[key];\n\n      _this.setState({\n        list: newList\n      }, function () {\n        StorageUtils.setItem(listCount, newList);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addList\", function (key) {\n      var newList = _objectSpread(_objectSpread({}, _this.state.list), {}, _defineProperty({}, key, []));\n\n      _this.setState({\n        list: newList\n      }, function () {\n        StorageUtils.setItem(listCount, newList);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"addDataItem\", function (data, parentKey) {\n      date.creationDate = new Date();\n\n      var newList = _objectSpread(_objectSpread({}, _this.state.list), {}, _defineProperty({}, parentKey, [].concat(_toConsumableArray(_this.state.list[parentKey]), [data])));\n\n      _this.setState({\n        list: newList\n      }, function () {\n        StorageUtils.setItem(listCount, newList);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderList\", function () {\n      var dataArray = Object.entries(_this.state.list);\n      console.log(dataArray);\n      return dataArray.map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            title = _ref2[0],\n            data = _ref2[1];\n\n        var sortedData = data.sort(function (a, b) {\n          return new Date(a.creationDate) - new Date(b.creationDate);\n        });\n        return __jsx(ListItem, {\n          title: title,\n          data: _toConsumableArray(data),\n          dragState: _this.dragState,\n          updateDragStart: _this.updateDragStart,\n          handleDragEnd: _this.handleDragEnd,\n          updateDragCurrent: _this.updateDragCurrent,\n          addDataItem: _this.addDataItem,\n          deleteList: _this.deleteList,\n          deleteEntry: _this.deleteEntry,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 9\n          }\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDialogClose\", function () {\n      _this.setState({\n        open: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"openDialog\", function () {\n      _this.setState({\n        open: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      var title = e.target.heading.value;\n\n      _this.addList(title);\n\n      _this.handleDialogClose();\n    });\n\n    _this.state = {\n      list: _this.getInitialData(listCount, {}),\n      open: false\n    };\n    _this.i = Object.keys(_this.state.list).length;\n    _this.dragState = {\n      start: null,\n      current: null\n    };\n    _this.cursorPosition = null;\n    return _this;\n  }\n\n  _createClass(List, [{\n    key: \"render\",\n    value: function render() {\n      console.log(\"render parent\");\n      return __jsx(\"div\", {\n        className: \"list__wrapper\",\n        onDragOver: function onDragOver(e) {\n          return e.preventDefault();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        className: \"button__container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 9\n        }\n      }, __jsx(\"button\", {\n        type: \"button\",\n        className: \"button\",\n        onClick: this.openDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }\n      }, \"Add list\")), __jsx(\"div\", {\n        className: \"list__container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }\n      }, this.renderList()), __jsx(Dialog, {\n        open: this.state.open,\n        close: this.handleDialogClose,\n        handleSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 9\n        }\n      }, __jsx(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }\n      }, \"Enter a unique list title: \"), __jsx(\"input\", {\n        name: \"heading\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }\n      }), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }\n      }), __jsx(\"button\", {\n        type: \"submit\",\n        className: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }\n      }, \"Submit\")));\n    }\n  }]);\n\n  return List;\n}(React.PureComponent);\n\nexport default List;","map":{"version":3,"sources":["/home/anvy/storage/code/node/n1/trella/src/components/List.jsx"],"names":["React","Dialog","ListItem","StorageUtils","listCount","List","props","position","cursorPosition","start","dragState","current","parent","key","index","console","log","modifiedParentList","state","list","splice","newList","setState","setItem","parentKey","targetKey","removedIndex","updatedList","targetList","removedEntry","defaultValue","data","getItem","JSON","parse","date","creationDate","Date","dataArray","Object","entries","map","title","sortedData","sort","a","b","updateDragStart","handleDragEnd","updateDragCurrent","addDataItem","deleteList","deleteEntry","open","e","target","heading","value","addList","handleDialogClose","getInitialData","i","keys","length","preventDefault","openDialog","renderList","handleSubmit","PureComponent"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,SAASC,SAAT,QAA0B,aAA1B;;IAEMC,I;;;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,2EAYI,UAACC,QAAD,EAAc;AACnC,YAAKC,cAAL,GAAsBD,QAAtB;AACD,KAdkB;;AAAA,sEAgBD,UAACE,KAAD,EAAW;AAC3B,YAAKC,SAAL,GAAiB;AACfD,QAAAA,KAAK,EAALA,KADe;AAEfE,QAAAA,OAAO,EAAEF,KAAK,CAACG;AAFA,OAAjB;AAID,KArBkB;;AAAA,wEAuBC,UAACD,OAAD,EAAa;AAC/B,YAAKD,SAAL,CAAeC,OAAf,GAAyBA,OAAzB;AACD,KAzBkB;;AAAA,kEA2BL,UAACE,GAAD,EAAMC,KAAN,EAAgB;AAC5BC,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAAiBC,KAAjB;;AACA,UAAMG,kBAAkB,GAAG,kBAAK,MAAKC,KAAL,CAAWC,IAAhB,EAAuBN,GAAvB,CAA3B;;AACAI,MAAAA,kBAAkB,CAACG,MAAnB,CAA0BN,KAA1B,EAAiC,CAAjC;;AACA,UAAMO,OAAO,mCAAQ,MAAKH,KAAL,CAAWC,IAAnB,2BAA0BN,GAA1B,EAAgCI,kBAAhC,EAAb;;AACA,YAAKK,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAEE;AAAR,OAAd,EAAiC,YAAM;AACrClB,QAAAA,YAAY,CAACoB,OAAb,CAAqBnB,SAArB,EAAgCiB,OAAhC;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAKE,KAAL,CAAWC,IAAvB;AACD,OAHD;AAID,KApCkB;;AAAA,oEAsCH,YAAM;AAAA;;AACpBJ,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKN,SAAjB;;AACA,UAAI,CAAC,MAAKA,SAAL,CAAeC,OAApB,EAA6B;AAC3B;AACD;;AACD,UAAMa,SAAS,GAAG,MAAKd,SAAL,CAAeD,KAAf,CAAqBG,MAAvC;AACA,UAAMa,SAAS,GAAG,MAAKf,SAAL,CAAeC,OAAjC;AACA,UAAMe,YAAY,GAAG,MAAKhB,SAAL,CAAeD,KAAf,CAAqBK,KAA1C;;AACA,UAAIa,WAAW,qBAAQ,MAAKT,KAAL,CAAWC,IAAnB,CAAf;;AACA,UAAMS,UAAU,GAAGD,WAAW,CAACF,SAAD,CAA9B;AACA,UAAMR,kBAAkB,GAAGU,WAAW,CAACH,SAAD,CAAtC;AACA,UAAMK,YAAY,GAAGZ,kBAAkB,CAACG,MAAnB,CAA0BM,YAA1B,EAAwC,CAAxC,EAA2C,CAA3C,CAArB;;AAEA,UAAML,OAAO,mCACRM,WADQ,6DAEVH,SAFU,EAEEP,kBAFF,mCAGVQ,SAHU,+BAGMG,UAHN,IAGkBC,YAHlB,qBAAb;;AAKA,YAAKP,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAEE;AAAR,OAAd,EAAiC,YAAM;AACrClB,QAAAA,YAAY,CAACoB,OAAb,CAAqBnB,SAArB,EAAgCiB,OAAhC;AACD,OAFD;AAGD,KA3DkB;;AAAA,qEA6DF,UAACR,GAAD,EAAMiB,YAAN,EAAuB;AACtC,UAAMC,IAAI,GAAG5B,YAAY,CAAC6B,OAAb,CAAqBnB,GAArB,CAAb;;AAEA,UAAIkB,IAAJ,EAAU;AACR,eAAOE,IAAI,CAACC,KAAL,CAAWH,IAAX,CAAP;AACD;;AACD5B,MAAAA,YAAY,CAACoB,OAAb,CAAqBV,GAArB,EAA0BiB,YAA1B;AACA,aAAOA,YAAP;AACD,KArEkB;;AAAA,iEAuEN,UAACjB,GAAD,EAAS;AACpBE,MAAAA,OAAO,CAACC,GAAR,CAAYK,OAAZ,EAAqBR,GAArB;;AACA,UAAMQ,OAAO,qBAAQ,MAAKH,KAAL,CAAWC,IAAnB,CAAb;;AACA,aAAOE,OAAO,CAACR,GAAD,CAAd;;AACA,YAAKS,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAEE;AAAR,OAAd,EAAiC,YAAM;AACrClB,QAAAA,YAAY,CAACoB,OAAb,CAAqBnB,SAArB,EAAgCiB,OAAhC;AACD,OAFD;AAGD,KA9EkB;;AAAA,8DAgFT,UAACR,GAAD,EAAS;AACjB,UAAMQ,OAAO,mCAAQ,MAAKH,KAAL,CAAWC,IAAnB,2BAA0BN,GAA1B,EAAgC,EAAhC,EAAb;;AAEA,YAAKS,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAEE;AAAR,OAAd,EAAiC,YAAM;AACrClB,QAAAA,YAAY,CAACoB,OAAb,CAAqBnB,SAArB,EAAgCiB,OAAhC;AACD,OAFD;AAGD,KAtFkB;;AAAA,kEAwFL,UAACU,IAAD,EAAOP,SAAP,EAAqB;AACjCW,MAAAA,IAAI,CAACC,YAAL,GAAoB,IAAIC,IAAJ,EAApB;;AACA,UAAMhB,OAAO,mCACR,MAAKH,KAAL,CAAWC,IADH,2BAEVK,SAFU,+BAEM,MAAKN,KAAL,CAAWC,IAAX,CAAgBK,SAAhB,CAFN,IAEkCO,IAFlC,IAAb;;AAKA,YAAKT,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAEE;AAAR,OAAd,EAAiC,YAAM;AACrClB,QAAAA,YAAY,CAACoB,OAAb,CAAqBnB,SAArB,EAAgCiB,OAAhC;AACD,OAFD;AAGD,KAlGkB;;AAAA,iEAoGN,YAAM;AACjB,UAAMiB,SAAS,GAAGC,MAAM,CAACC,OAAP,CAAe,MAAKtB,KAAL,CAAWC,IAA1B,CAAlB;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYsB,SAAZ;AACA,aAAOA,SAAS,CAACG,GAAV,CAAc,gBAAmB;AAAA;AAAA,YAAjBC,KAAiB;AAAA,YAAVX,IAAU;;AACtC,YAAMY,UAAU,GAAGZ,IAAI,CAACa,IAAL,CACjB,UAACC,CAAD,EAAIC,CAAJ;AAAA,iBAAU,IAAIT,IAAJ,CAASQ,CAAC,CAACT,YAAX,IAA2B,IAAIC,IAAJ,CAASS,CAAC,CAACV,YAAX,CAArC;AAAA,SADiB,CAAnB;AAGA,eACE,MAAC,QAAD;AACE,UAAA,KAAK,EAAEM,KADT;AAEE,UAAA,IAAI,qBAAMX,IAAN,CAFN;AAGE,UAAA,SAAS,EAAE,MAAKrB,SAHlB;AAIE,UAAA,eAAe,EAAE,MAAKqC,eAJxB;AAKE,UAAA,aAAa,EAAE,MAAKC,aALtB;AAME,UAAA,iBAAiB,EAAE,MAAKC,iBAN1B;AAOE,UAAA,WAAW,EAAE,MAAKC,WAPpB;AAQE,UAAA,UAAU,EAAE,MAAKC,UARnB;AASE,UAAA,WAAW,EAAE,MAAKC,WATpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAaD,OAjBM,CAAP;AAkBD,KAzHkB;;AAAA,wEA2HC,YAAM;AACxB,YAAK9B,QAAL,CAAc;AAAE+B,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,KA7HkB;;AAAA,iEA+HN,YAAM;AACjB,YAAK/B,QAAL,CAAc;AAAE+B,QAAAA,IAAI,EAAE;AAAR,OAAd;AACD,KAjIkB;;AAAA,mEAmIJ,UAACC,CAAD,EAAO;AACpB,UAAMZ,KAAK,GAAGY,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBC,KAA/B;;AACA,YAAKC,OAAL,CAAahB,KAAb;;AACA,YAAKiB,iBAAL;AACD,KAvIkB;;AAEjB,UAAKzC,KAAL,GAAa;AAAEC,MAAAA,IAAI,EAAE,MAAKyC,cAAL,CAAoBxD,SAApB,EAA+B,EAA/B,CAAR;AAA4CiD,MAAAA,IAAI,EAAE;AAAlD,KAAb;AACA,UAAKQ,CAAL,GAAStB,MAAM,CAACuB,IAAP,CAAY,MAAK5C,KAAL,CAAWC,IAAvB,EAA6B4C,MAAtC;AACA,UAAKrD,SAAL,GAAiB;AACfD,MAAAA,KAAK,EAAE,IADQ;AAEfE,MAAAA,OAAO,EAAE;AAFM,KAAjB;AAKA,UAAKH,cAAL,GAAsB,IAAtB;AATiB;AAUlB;;;;WA+HD,kBAAS;AACPO,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,aACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAA+B,QAAA,UAAU,EAAE,oBAACsC,CAAD;AAAA,iBAAOA,CAAC,CAACU,cAAF,EAAP;AAAA,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,QAAhC;AAAyC,QAAA,OAAO,EAAE,KAAKC,UAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,CADF,EAME;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkC,KAAKC,UAAL,EAAlC,CANF,EAOE,MAAC,MAAD;AACE,QAAA,IAAI,EAAE,KAAKhD,KAAL,CAAWmC,IADnB;AAEE,QAAA,KAAK,EAAE,KAAKM,iBAFd;AAGE,QAAA,YAAY,EAAE,KAAKQ,YAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCALF,EAME;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,EAQE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,CAPF,CADF;AAsBD;;;;EAlKgBnE,KAAK,CAACoE,a;;AAqKzB,eAAe/D,IAAf","sourcesContent":["import React from \"react\";\nimport Dialog from \"./Dialog\";\nimport ListItem from \"./ListItem\";\n\nimport StorageUtils from \"../libs/storageUtils\";\nimport { listCount } from \"../constant\";\n\nclass List extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = { list: this.getInitialData(listCount, {}), open: false };\n    this.i = Object.keys(this.state.list).length;\n    this.dragState = {\n      start: null,\n      current: null,\n    };\n\n    this.cursorPosition = null;\n  }\n\n  updateCursorPosition = (position) => {\n    this.cursorPosition = position;\n  };\n\n  updateDragStart = (start) => {\n    this.dragState = {\n      start,\n      current: start.parent,\n    };\n  };\n\n  updateDragCurrent = (current) => {\n    this.dragState.current = current;\n  };\n\n  deleteEntry = (key, index) => {\n    console.log(key, index);\n    const modifiedParentList = { ...this.state.list }[key];\n    modifiedParentList.splice(index, 1);\n    const newList = { ...this.state.list, [key]: modifiedParentList };\n    this.setState({ list: newList }, () => {\n      StorageUtils.setItem(listCount, newList);\n      console.log(this.state.list);\n    });\n  };\n\n  handleDragEnd = () => {\n    console.log(this.dragState);\n    if (!this.dragState.current) {\n      return;\n    }\n    const parentKey = this.dragState.start.parent;\n    const targetKey = this.dragState.current;\n    const removedIndex = this.dragState.start.index;\n    let updatedList = { ...this.state.list };\n    const targetList = updatedList[targetKey];\n    const modifiedParentList = updatedList[parentKey];\n    const removedEntry = modifiedParentList.splice(removedIndex, 1)[0];\n\n    const newList = {\n      ...updatedList,\n      [parentKey]: modifiedParentList,\n      [targetKey]: [...targetList, removedEntry],\n    };\n    this.setState({ list: newList }, () => {\n      StorageUtils.setItem(listCount, newList);\n    });\n  };\n\n  getInitialData = (key, defaultValue) => {\n    const data = StorageUtils.getItem(key);\n\n    if (data) {\n      return JSON.parse(data);\n    }\n    StorageUtils.setItem(key, defaultValue);\n    return defaultValue;\n  };\n\n  deleteList = (key) => {\n    console.log(newList, key);\n    const newList = { ...this.state.list };\n    delete newList[key];\n    this.setState({ list: newList }, () => {\n      StorageUtils.setItem(listCount, newList);\n    });\n  };\n\n  addList = (key) => {\n    const newList = { ...this.state.list, [key]: [] };\n\n    this.setState({ list: newList }, () => {\n      StorageUtils.setItem(listCount, newList);\n    });\n  };\n\n  addDataItem = (data, parentKey) => {\n    date.creationDate = new Date();\n    const newList = {\n      ...this.state.list,\n      [parentKey]: [...this.state.list[parentKey], data],\n    };\n\n    this.setState({ list: newList }, () => {\n      StorageUtils.setItem(listCount, newList);\n    });\n  };\n\n  renderList = () => {\n    const dataArray = Object.entries(this.state.list);\n    console.log(dataArray);\n    return dataArray.map(([title, data]) => {\n      const sortedData = data.sort(\n        (a, b) => new Date(a.creationDate) - new Date(b.creationDate)\n      );\n      return (\n        <ListItem\n          title={title}\n          data={[...data]}\n          dragState={this.dragState}\n          updateDragStart={this.updateDragStart}\n          handleDragEnd={this.handleDragEnd}\n          updateDragCurrent={this.updateDragCurrent}\n          addDataItem={this.addDataItem}\n          deleteList={this.deleteList}\n          deleteEntry={this.deleteEntry}\n        />\n      );\n    });\n  };\n\n  handleDialogClose = () => {\n    this.setState({ open: false });\n  };\n\n  openDialog = () => {\n    this.setState({ open: true });\n  };\n\n  handleSubmit = (e) => {\n    const title = e.target.heading.value;\n    this.addList(title);\n    this.handleDialogClose();\n  };\n\n  render() {\n    console.log(\"render parent\");\n    return (\n      <div className=\"list__wrapper\" onDragOver={(e) => e.preventDefault()}>\n        <div className=\"button__container\">\n          <button type=\"button\" className=\"button\" onClick={this.openDialog}>\n            Add list\n          </button>\n        </div>\n        <div className=\"list__container\">{this.renderList()}</div>\n        <Dialog\n          open={this.state.open}\n          close={this.handleDialogClose}\n          handleSubmit={this.handleSubmit}\n        >\n          <label>Enter a unique list title: </label>\n          <input name=\"heading\" />\n          <br />\n          <button type=\"submit\" className=\"button\">\n            Submit\n          </button>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default List;\n"]},"metadata":{},"sourceType":"module"}